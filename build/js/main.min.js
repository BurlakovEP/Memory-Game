"use strict";window.onload=function(){var n=function(e){return document.querySelector("."+e)},g=function(e,t){return Math.random()-.5},e=n("start-page"),a=n("game-page"),l=n("end-page"),c=n("game-page__main"),o=["2C","2D","2H","2S","3C","3D","3H","3S","4C","4D","4H","4S","5C","5D","5H","5S","6C","6D","6H","6S","7C","7D","7H","7S","8C","8D","8H","8S","9C","9D","9H","9S","0C","0D","0H","0S","AC","AD","AH","AS","JC","JD","JH","JS","KC","KD","KH","KS","QC","QD","QH","QS"],r=0,u="",_="",m="",d="",p=0,b=9,f=0,H=n("game-page__field");function t(){setTimeout(v,5e3),o.sort(g);for(var e=o.slice(0,9),t=e.concat(e).sort(g),i=0;i<t.length;i++){var s=document.createElement("img");s.className="game-page__image",s.setAttribute("id",i+1),s.setAttribute("src","img/"+t[i]+".png"),s.setAttribute("data-key",t[i]),c.append(s)}}function v(){for(var e=a.getElementsByTagName("img"),t=0;t<e.length;t++)e[t].setAttribute("src","img/BG.png"),e[t].onclick=i}function i(){r++;var e=this.getAttribute("id"),t=document.getElementById(e),i=t.getAttribute("data-key"),s="img/"+i+".png";if(1===r)u=i,m=e,t.setAttribute("src",s);else if(2===r)if(_=i,d=e,t.setAttribute("src",s),u===_&&m!==d){setTimeout(function(){document.getElementById(m).style.visibility="hidden",document.getElementById(d).style.visibility="hidden",r=0},600),p++,f+=0===--b?42:42*b,H.innerHTML=f}else{setTimeout(function(){document.getElementById(m).src="img/BG.png",document.getElementById(d).src="img/BG.png",r=0},1e3),(f-=42*p)<=0&&(f=0),H.innerHTML=f}if(0===b&&9===p){setTimeout(function(){c.innerHTML="",a.classList.toggle("page_state_visible",!1),a.classList.toggle("page_state_invisible",!0),l.classList.toggle("page_state_invisible",!1),l.classList.toggle("page_state_visible",!0),n("end-page__field").innerHTML=f},1e3)}}function s(){b=9,f=p=0,H.innerHTML=f,t()}H.innerHTML=f,n("start-page__button").onclick=function(){e.classList.toggle("page_state_visible",!1),e.classList.toggle("page_state_invisible",!0),a.classList.toggle("page_state_invisible",!1),a.classList.toggle("page_state_visible",!0),t()},n("game-page__button").onclick=function(){c.innerHTML="",s()},n("end-page__button").onclick=function(){l.classList.toggle("page_state_visible",!1),l.classList.toggle("page_state_invisible",!0),a.classList.toggle("page_state_invisible",!1),a.classList.toggle("page_state_visible",!0),s()}};