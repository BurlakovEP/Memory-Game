"use strict";window.onload=function(){var n=function(t){return document.querySelector(".".concat(t))},o=function(){return Math.random()-.5},t=n("start-page"),c=n("game-page"),s=n("end-page"),r=n("game-page__field"),u=document.querySelectorAll(".card");function a(t,e){var i,n=t.classList;"show"===e&&(i="_visible"),"hide"===e&&(i="_invisible"),"flip"===e&&(i="_flipped"),n.remove(n[n.length-1]),n.add(n[0]+i)}function d(t,e){t.setAttribute("src",e)}var l=["2C","2D","2H","2S","3C","3D","3H","3S","4C","4D","4H","4S","5C","5D","5H","5S","6C","6D","6H","6S","7C","7D","7H","7S","8C","8D","8H","8S","9C","9D","9H","9S","0C","0D","0H","0S","AC","AD","AH","AS","JC","JD","JH","JS","KC","KD","KH","KS","QC","QD","QH","QS"],f=0,g="",m="",h="",p="",H="",S="",T=0,_=9,C=0;function e(){f+=1;var t=this.getAttribute("id"),e=this.getAttribute("data-key"),i="img/".concat(e,".png");if(1===f)h=e,H=t,a(g=this,"show"),setTimeout(d,300,g,i);else if(2===f)if(p=e,S=t,a(m=this,"show"),setTimeout(d,300,m,i),h===p&&H!==S){setTimeout(function(){a(g,"hide"),a(m,"hide"),g.removeAttribute("src"),m.removeAttribute("src"),g.onclick=!1,m.onclick=!1,f=0},1e3),T+=1,C+=0===(_-=1)?42:42*_,r.innerHTML=C}else{setTimeout(function(){a(g,"flip"),a(m,"flip"),setTimeout(d,200,g,"img/BG.png"),setTimeout(d,200,m,"img/BG.png"),f=0},1e3),(C-=42*T)<=0&&(C=0),r.innerHTML=C}if(0===_&&9===T){setTimeout(function(){a(c,"hide"),a(s,"show"),n("end-page__field").innerHTML=C},1100)}}function D(){for(var t=0;t<u.length;t++)u[t].classList.add("card_flipped"),setTimeout(d,200,u[t],"img/BG.png"),u[t].onclick=e}function i(t){l.sort(o);for(var e=l.slice(0,9),i=e.concat(e).sort(o),n=0;n<i.length;n++)u[n].className="card",setTimeout(d,t,u[n],"img/".concat(i[n],".png")),u[n].setAttribute("id",n+1),u[n].setAttribute("data-key",i[n]);setTimeout(D,5e3)}function b(){_=9,C=T=0,r.innerHTML=C,i(0)}r.innerHTML=C,n("start-page__button").onclick=function(){a(t,"hide"),a(c,"show"),i(0)},n("game-page__button").onclick=function(){b()},n("end-page__button").onclick=function(){a(s,"hide"),a(c,"show"),b()}};